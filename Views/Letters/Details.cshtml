@model OfficeAutomation.Models.Letter

@{
    Layout = null; // برای اینکه منوهای سایت دور نامه نیفتند
}

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <style>
        .letter-container {
            width: 210mm; /* سایز A4 */
            margin: auto;
            padding: 30px;
            background: white;
            font-family: 'Vazirmatn', Tahoma;
            border: 1px solid #eee;
        }
        .letter-header {
            display: flex;
            justify-content: space-between;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        .letter-body {
            min-height: 500px;
            line-height: 2;
            text-align: justify;
        }
        .letter-footer {
            display: flex;
            justify-content: flex-end; /* امضا سمت چپ پایین */
            margin-top: 50px;
        }
        .signature-area {
            text-align: center;
            width: 200px;
        }
        .signature-img {
            max-width: 150px;
            mix-blend-mode: multiply;
        }
        @@media print {
            .no-print { display: none; }
            .letter-container { border: none; }
        }
    </style>
</head>
<body>
    <div class="no-print" style="text-align:center; padding:10px;">
        <button onclick="window.print()" class="btn btn-success">چاپ نامه / خروجی PDF</button>
    </div>

    <div class="letter-container">
        <div class="letter-header">
            <div>
                <p>شماره: @Model.Id</p>
                <p>تاریخ: @DateTime.Now.ToShortDateString()</p>
            </div>
            <div style="text-align:center">
                <h3>بسمه تعالی</h3>
                <h2>نام سازمان شما</h2>
            </div>
            <div>
                <img src="/logo.png" width="60">
            </div>
        </div>

        <div class="letter-body">
            <h4>موضوع: @Model.Title</h4>
            <p>@Model.Body</p>
        </div>

        <div class="letter-footer">
            <div class="signature-area">
                <p>با احترام</p>
                <strong>@Model.Sender?.FullName</strong> <br />
                <img src="@Model.Sender?.SignaturePath" class="signature-img" />
            </div>
        </div>
    </div>
</body>
</html>